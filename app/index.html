<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="/app/static/vue-dev.js"></script>

    <!-- <link href="/app/static/video-js.min.css" rel="stylesheet">
    <script src="/app/static/video-js.min.js"></script> -->
</head>

<body>


    <div id="app">
        <div id='search'>
            <div id='title'>
                <h1>西瓜看美剧</h1>
            </div>
            <input v-model='search_word'><button @click='search'>search</button>
            <div id='search-result'>
                <div class='list-item' v-for='item in search_result'>
                    {{item.name}}
                </div>
            </div>
        </div>

        <!-- <video id="my-player" class="video-js" controls preload="auto" data-setup='{}'>
            <source v-bind:src="url" type="application/x-mpegURL">
            </source>

            <p class="vjs-no-js">
                To view this video please enable JavaScript, and consider upgrading to a
                web browser that
                <a href="http://videojs.com/html5-video-support/" target="_blank">
                    supports HTML5 video
                </a>
            </p>
        </video> -->
    </div>

</body>

</html>


<script>

    var app = new Vue({
        el: '#app',
        data: {
            url: 'https://fenxiang2.meiju2018.com/20181005/zHe9BY3j/index.m3u8',
            search_word:'',
            search_result:[]
        },
        methods:{
            search(){
                fetch('/search/'+this.search_word,{credentials: 'include'})
                .then(response => response.json())
                .then(json=>{
                    this.search_result = json.list
                })
            }
        },
        created(){
            this.search_word='美国恐怖'
        }
    })

</script>

<style>
    body {
        font-family: arial, sans-serif;
    }

    .video-js {
        width: 100%;
        height: 600px;
    }
    .list-item{
        border: 1px solid #777;
        border-radius: 5px;
        margin: 10px;
    }
</style>